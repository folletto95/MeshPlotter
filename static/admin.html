<!doctype html>
<html lang="it"><head>
<meta charset="utf-8"/><title>DB Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" type="image/svg+xml" href="/static/favicon.svg"/>
<style>
body{font-family:system-ui,Segoe UI,Roboto,Ubuntu,sans-serif;margin:16px;background:#0f172a;color:#f8fafc}
textarea{width:100%;height:200px;margin-bottom:8px;background:#1e293b;color:#f8fafc;border:1px solid #334155;border-radius:6px;padding:8px}
button{padding:8px 12px;background:#ff6d00;color:#fff;border:none;border-radius:6px;cursor:pointer}
pre{background:#1e293b;color:#f8fafc;padding:8px;border-radius:6px;white-space:pre-wrap}
</style>
</head><body>
<h2>DB Admin</h2>
<p>Esegui query SQL per modificare il database.</p>
<textarea id="query" placeholder="SQL"></textarea><br/>
<button id="run">Esegui</button>
<pre id="out"></pre>
<script>
const run=document.getElementById('run');
run.addEventListener('click',async()=>{
  const q=document.getElementById('query').value;
  const res=await fetch('/api/admin/sql',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query:q})});
  const data=await res.json();
  document.getElementById('out').textContent=JSON.stringify(data,null,2);
});
</script>
</body></html>
